<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissors Game</title>
</head>
<body>

<script type="text/javascript">

	// Makes the computer's play by randomly choosing between
	// rock, paper or scissors.
	// Arguments: None
	// Returns: String value Rock, Paper, or Scissors corresponding to 
	//			randomly generated integer beween 0 and 2.
	function computerPlay() {
		let computerMove = Math.floor( (Math.random() * 3) );

		switch(computerMove) {
			case 0:
				return "Rock";
				break;
			case 1:
				return "Paper";
				break;
			case 2:
				return "Scissors";
				break;
			default:
				break;
		}
	}

	// Plays a single round of Rock, Paper, Scissors.
	// Arguments: Player selection and Computer selection
	// Returns: String declaring winner of the round
	function playRound(playerSelection, computerSelection) {
		// String method converting any input to UPPERCASE 
		let playerMove = playerSelection.toLowerCase();
		let computerMove = computerSelection.toLowerCase();
		
		// if-else statement tree comparing different combinations,
		// returns string declaring winner of the round
		if (playerMove === "rock" && computerMove === "paper") {
			return "You lose! Paper beats Rock.";
		} else if (playerMove === "rock" && computerMove === "scissors") {
			return "You win! Rock beats Scissors.";
		} else if (playerMove === "paper" && computerMove === "scissors") {
			return "You lose! Scissors beats Paper.";
		} else if (playerMove === "paper" && computerMove === "rock") {
			return "You win! Paper beats Rock.";
		} else if (playerMove === "scissors" && computerMove === "paper") {
			return "You win! Scissors beats Paper.";
		} else if (playerMove === "scissors" && computerMove === "rock") {
			return "You lose! Rock beats Scissors.";
		} else {
			return "It's a draw!";
		}
	}

	// Keeps track of the score,based upon the player and computer move selection
	// arguments that are passed in.
	function trackScore(scoreTally) {
		
		let playerScore = 0;
		let computerScore = 0;
		let score = "Player: " + playerScore + " vs. Computer: " + computerScore;

		// if-else statement tree comparing different outcomes from playRound(),
		// updates and returns score accordingly
		if (scoreTally === "You lose! Paper beats Rock." || scoreTally === "You lose! Scissors beats Paper." || scoreTally === "You lose! Rock beats Scissors.") {
			computerScore++;
			console.log(score);
			return score;
		} else if (scoreTally === "You win! Rock beats Scissors." || scoreTally === "You win! Paper beats Rock." || scoreTally === "You win! Scissors beats Paper.") {
			playerScore++;
			console.log(score);
			return score;
		} else {
			console.log(score);
			return score;
		}

	}

	// Plays five-round game of Rock, Paper, Scissors. 
	// Loops through playRound function 5 times,
	// along with the lines 66 to 68 below (encapsulate these 
	// in a function so they're not rolling around globally.
	function game() {
		for (let i = 0; i < 5; i++) {
			let playerSelection = prompt("Please type in Rock, Paper, or Scissors:");
			let computerSelection = computerPlay();
			let scoreTally = playRound(playerSelection, computerSelection);
			console.log( playRound(playerSelection, computerSelection), trackScore(scoreTally));
		}
		alert("Aaaand that's all for today folks (five games, that is)!")
	}

	game();

</script>

</body>
</html>